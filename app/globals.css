@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
  
  /* Default theme (white) - CSS variables */
  --theme-primary: rgb(234 179 8);
  --theme-primary-light: rgb(250 204 21);
  --theme-primary-dark: rgb(17 24 39);
  --theme-primary-lighter: rgb(254 240 138);
  --theme-primary-darker: rgb(161 98 7);
  --theme-background-from: rgb(255 255 255);
  --theme-background-to: rgb(249 250 251);
  --theme-border: rgb(229 231 235);
  --theme-text: rgb(202 138 4);
  --theme-ring: rgb(234 179 8);
  --theme-button-text: black;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  /* Default app background - soft yellow gradient */
  background: linear-gradient(135deg, rgb(255, 254, 250), rgb(255, 253, 248), rgb(255, 251, 245));
  background-attachment: fixed;
  min-height: 100vh;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .font-oswald {
    font-family: var(--font-oswald), sans-serif !important;
  }
  
  .font-inter {
    font-family: var(--font-inter), sans-serif !important;
  }

  /* Performance optimization utilities */
  .contain-layout {
    contain: layout;
  }

  .contain-paint {
    contain: paint;
  }

  .contain-strict {
    contain: strict;
  }

  /* Use will-change sparingly - only for elements that will animate */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-scroll {
    will-change: scroll-position;
  }
}

@keyframes pulse-scale {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
}

.animate-pulse-scale {
  animation: pulse-scale 1s ease-in-out infinite;
}

/* Yellow background for clickable calendar dates */
.rdp-day_available {
  background-color: rgb(254 249 195);
  border-radius: 50%;
}

.rdp-day_available:hover {
  background-color: rgb(254 240 138);
}

.rdp-day_current-week {
  background-color: rgb(234 179 8);
  border-radius: 50%;
}

/* Dark yellow for navigation arrows and selected date */
.rdp-root,
.rdp,
div.rdp-root {
  --rdp-accent-color: rgb(234 179 8);
}

svg.rdp-chevron {
  fill: rgb(234 179 8);
}

.rdp-nav_button:hover svg.rdp-chevron {
  fill: rgb(202 138 4);
}

.rdp-day_selected {
  border: 2px solid rgb(234 179 8);
  color: rgb(234 179 8);
}

@keyframes dots {
  0%, 20% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.animate-dots {
  animation: dots 1.4s ease-in-out infinite;
}

.animate-dots-delay-1 {
  animation: dots 1.4s ease-in-out 0.2s infinite;
}

.animate-dots-delay-2 {
  animation: dots 1.4s ease-in-out 0.4s infinite;
}

@keyframes race-bar {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100vw);
  }
}

.animate-race-bar {
  animation: race-bar 1.5s ease-in-out infinite;
}

/* Theme classes - override CSS variables for each theme */
.theme-yellow {
  --theme-primary: rgb(234 179 8);
  --theme-primary-light: rgb(250 204 21);
  --theme-primary-dark: rgb(113 63 18);
  --theme-primary-lighter: rgb(254 240 138);
  --theme-primary-darker: rgb(161 98 7);
  --theme-background-from: rgb(254 249 195);
  --theme-background-to: rgb(254 252 232);
  --theme-border: rgb(254 240 138);
  --theme-text: rgb(202 138 4);
  --theme-ring: rgb(234 179 8);
  --theme-button-text: black;
}

.theme-royal-blue {
  --theme-primary: rgb(29 78 216);
  --theme-primary-light: rgb(37 99 235);
  --theme-primary-dark: rgb(30 58 138);
  --theme-primary-lighter: rgb(147 197 253);
  --theme-primary-darker: rgb(30 64 175);
  --theme-background-from: rgb(219 234 254);
  --theme-background-to: rgb(239 246 255);
  --theme-border: rgb(147 197 253);
  --theme-text: rgb(29 78 216);
  --theme-ring: rgb(29 78 216);
  --theme-button-text: white;
}

.theme-cyan {
  --theme-primary: rgb(6 182 212);
  --theme-primary-light: rgb(34 211 238);
  --theme-primary-dark: rgb(8 145 178);
  --theme-primary-lighter: rgb(103 232 249);
  --theme-primary-darker: rgb(14 116 144);
  --theme-background-from: rgb(207 250 254);
  --theme-background-to: rgb(236 254 255);
  --theme-border: rgb(103 232 249);
  --theme-text: rgb(8 145 178);
  --theme-ring: rgb(6 182 212);
  --theme-button-text: white;
}

.theme-bright-red {
  --theme-primary: rgb(185 28 28);
  --theme-primary-light: rgb(220 38 38);
  --theme-primary-dark: rgb(127 29 29);
  --theme-primary-lighter: rgb(252 165 165);
  --theme-primary-darker: rgb(153 27 27);
  --theme-background-from: rgb(254 226 226);
  --theme-background-to: rgb(255 241 242);
  --theme-border: rgb(252 165 165);
  --theme-text: rgb(185 28 28);
  --theme-ring: rgb(185 28 28);
  --theme-button-text: white;
}

.theme-maroon {
  --theme-primary: rgb(128 0 0);
  --theme-primary-light: rgb(139 0 0);
  --theme-primary-dark: rgb(50 0 0);
  --theme-primary-lighter: rgb(160 82 45);
  --theme-primary-darker: rgb(80 0 0);
  --theme-background-from: rgb(250 235 215);
  --theme-background-to: rgb(255 248 240);
  --theme-border: rgb(205 133 63);
  --theme-text: rgb(100 0 0);
  --theme-ring: rgb(128 0 0);
  --theme-button-text: white;
}

.theme-graphite {
  --theme-primary: rgb(75 85 99);
  --theme-primary-light: rgb(107 114 128);
  --theme-primary-dark: rgb(17 24 39);
  --theme-primary-lighter: rgb(156 163 175);
  --theme-primary-darker: rgb(31 41 55);
  --theme-background-from: rgb(243 244 246);
  --theme-background-to: rgb(249 250 251);
  --theme-border: rgb(209 213 219);
  --theme-text: rgb(55 65 81);
  --theme-ring: rgb(75 85 99);
  --theme-button-text: white;
}

.theme-hot-pink {
  --theme-primary: rgb(255 105 180);
  --theme-primary-light: rgb(255 20 147);
  --theme-primary-dark: rgb(131 24 67);
  --theme-primary-lighter: rgb(251 182 206);
  --theme-primary-darker: rgb(199 21 133);
  --theme-background-from: rgb(253 244 255);
  --theme-background-to: rgb(255 250 255);
  --theme-border: rgb(251 182 206);
  --theme-text: rgb(219 39 119);
  --theme-ring: rgb(255 105 180);
  --theme-button-text: white;
}

.theme-neon-green {
  --theme-primary: rgb(21 128 61);
  --theme-primary-light: rgb(22 163 74);
  --theme-primary-dark: rgb(5 46 22);
  --theme-primary-lighter: rgb(134 239 172);
  --theme-primary-darker: rgb(20 83 45);
  --theme-background-from: rgb(220 252 231);
  --theme-background-to: rgb(240 253 244);
  --theme-border: rgb(134 239 172);
  --theme-text: rgb(21 128 61);
  --theme-ring: rgb(22 163 74);
  --theme-button-text: white;
}

.theme-white {
  --theme-primary: rgb(234 179 8);
  --theme-primary-light: rgb(250 204 21);
  --theme-primary-dark: rgb(17 24 39);
  --theme-primary-lighter: rgb(254 240 138);
  --theme-primary-darker: rgb(161 98 7);
  --theme-background-from: rgb(255 255 255);
  --theme-background-to: rgb(249 250 251);
  --theme-border: rgb(229 231 235);
  --theme-text: rgb(202 138 4);
  --theme-ring: rgb(234 179 8);
  --theme-button-text: black;
}

.theme-rainbow {
  --theme-primary: rgb(147 51 234);
  --theme-primary-light: rgb(168 85 247);
  --theme-primary-dark: rgb(88 28 135);
  --theme-primary-lighter: rgb(196 181 253);
  --theme-primary-darker: rgb(126 34 206);
  --theme-background-from: rgb(255 255 255 / 0.9);
  --theme-background-to: rgb(255 255 255 / 0.95);
  --theme-border: rgb(196 181 253);
  --theme-text: rgb(17 24 39);
  --theme-ring: rgb(147 51 234);
  --theme-button-text: white;
}

/* All themes: Make main page gradients diagonal and fixed to viewport */
main.bg-gradient-to-b {
  background-attachment: fixed !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  /* Convert vertical gradients to diagonal for all themes */
  background-image: linear-gradient(
    135deg,
    var(--theme-background-from),
    var(--theme-background-to)
  ) !important;
}

/* Rainbow gradient background override - applies multi-color rainbow gradient instead of simple two-color gradient */
main.theme-rainbow.bg-gradient-to-b,
main.theme-rainbow {
  /* Diagonal gradient from top-left to bottom-right with rainbow colors and subtle white overlay */
  background-image: 
    linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15)),
    linear-gradient(
      135deg,
      rgb(239 68 68) 0%,      /* red - top-left */
      rgb(249 115 22) 14.28%, /* orange */
      rgb(234 179 8) 28.57%,  /* yellow */
      rgb(34 197 94) 42.85%,  /* green - center */
      rgb(59 130 246) 57.14%, /* blue */
      rgb(147 51 234) 71.42%, /* indigo */
      rgb(219 39 119) 85.71%, /* violet */
      rgb(239 68 68) 100%     /* red - bottom-right (wrap around) */
    ) !important;
  background-color: transparent;
}

/* Rainbow gradient for group cards */
.theme-rainbow.bg-gradient-to-br {
  /* Diagonal rainbow gradient for cards with white overlay for better text readability */
  background-image: 
    linear-gradient(135deg, rgba(255, 255, 255, 0.85), rgba(255, 255, 255, 0.85)),
    linear-gradient(
      135deg,
      rgb(239 68 68) 0%,      /* red */
      rgb(249 115 22) 16.66%, /* orange */
      rgb(234 179 8) 33.33%,  /* yellow */
      rgb(34 197 94) 50%,     /* green */
      rgb(59 130 246) 66.66%, /* blue */
      rgb(147 51 234) 83.33%, /* indigo */
      rgb(219 39 119) 100%    /* violet */
    ) !important;
  background-color: transparent;
}

/* Theme-aware ring color utility */
.ring-theme {
  --tw-ring-color: var(--theme-ring);
  --tw-ring-opacity: 0.3;
}

/* Theme-aware border utility */
.border-theme {
  border-color: var(--theme-border);
}

/* Prevent Font Awesome icons from appearing gigantic before styles load */
/* Target Font Awesome SVG icons directly */
svg[data-icon],
svg.svg-inline--fa {
  width: 1em !important;
  height: 1em !important;
  display: inline-block;
  vertical-align: -0.125em;
  max-width: 1em;
  max-height: 1em;
}

/* Ensure Font Awesome icons respect text size classes */
svg[data-icon].text-lg,
svg.svg-inline--fa.text-lg {
  width: 1.125em !important;
  height: 1.125em !important;
  max-width: 1.125em;
  max-height: 1.125em;
}

svg[data-icon].text-sm,
svg.svg-inline--fa.text-sm {
  width: 0.875em !important;
  height: 0.875em !important;
  max-width: 0.875em;
  max-height: 0.875em;
}

svg[data-icon].text-xs,
svg.svg-inline--fa.text-xs {
  width: 0.75em !important;
  height: 0.75em !important;
  max-width: 0.75em;
  max-height: 0.75em;
}

svg[data-icon].text-xl,
svg.svg-inline--fa.text-xl {
  width: 1.25em !important;
  height: 1.25em !important;
  max-width: 1.25em;
  max-height: 1.25em;
}

svg[data-icon].text-2xl,
svg.svg-inline--fa.text-2xl {
  width: 1.5em !important;
  height: 1.5em !important;
  max-width: 1.5em;
  max-height: 1.5em;
}

svg[data-icon].text-3xl,
svg.svg-inline--fa.text-3xl {
  width: 1.875em !important;
  height: 1.875em !important;
  max-width: 1.875em;
  max-height: 1.875em;
}

svg[data-icon].text-4xl,
svg.svg-inline--fa.text-4xl {
  width: 2.25em !important;
  height: 2.25em !important;
  max-width: 2.25em;
  max-height: 2.25em;
}

/* Handle size prop from FontAwesomeIcon component */
svg[data-icon][style*="width"],
svg.svg-inline--fa[style*="width"] {
  max-width: var(--fa-width, 1em);
  max-height: var(--fa-height, 1em);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translate(-50%, -20px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

@keyframes together-apart-left {
  0% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(15px);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes together-apart-right {
  0% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(-15px);
  }
  100% {
    transform: translateX(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.8s ease-in forwards;
}

.animate-together-apart-left {
  animation: together-apart-left 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.animate-together-apart-right {
  animation: together-apart-right 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

@keyframes theme-gradient-cycle {
  0%, 5% {
    background: linear-gradient(135deg, rgb(254 249 195), rgb(254 252 232));
  }
  10%, 15% {
    background: linear-gradient(135deg, rgb(219 234 254), rgb(239 246 255));
  }
  20%, 25% {
    background: linear-gradient(135deg, rgb(207 250 254), rgb(236 254 255));
  }
  30%, 35% {
    background: linear-gradient(135deg, rgb(254 226 226), rgb(255 241 242));
  }
  40%, 45% {
    background: linear-gradient(135deg, rgb(250 235 215), rgb(255 248 240));
  }
  50%, 55% {
    background: linear-gradient(135deg, rgb(243 244 246), rgb(249 250 251));
  }
  60%, 65% {
    background: linear-gradient(135deg, rgb(253 244 255), rgb(255 250 255));
  }
  70%, 75% {
    background: linear-gradient(135deg, rgb(220 252 231), rgb(240 253 244));
  }
  80%, 85% {
    background: linear-gradient(135deg, rgb(255 255 255), rgb(249 250 251));
  }
  90%, 95% {
    background: linear-gradient(135deg, rgb(254 249 195), rgb(254 252 232));
  }
  100% {
    background: linear-gradient(135deg, rgb(254 249 195), rgb(254 252 232));
  }
}

.animate-theme-gradient {
  animation: theme-gradient-cycle 90s ease-in-out infinite;
  background-attachment: fixed;
  background-size: cover;
  background-position: center;
}

/* Timeline container - responsive background gradient for chart history bubbles */
.timeline-container {
  /* Mobile: line at 20-22px (center of 40-48px bubbles), repeat every 60px */
  background-image: repeating-linear-gradient(
    to bottom,
    transparent 0,
    transparent 19px,
    rgba(209, 213, 219, 0.4) 19px,
    rgba(209, 213, 219, 0.4) 23px,
    transparent 23px,
    transparent 60px
  );
  background-size: 100% 60px;
  background-position: 0 0;
  background-repeat: repeat-y;
}

@media (min-width: 768px) {
  .timeline-container {
    /* Desktop: line at 31-33px (center of 48-64px bubbles), repeat every 80px */
    background-image: repeating-linear-gradient(
      to bottom,
      transparent 0,
      transparent 31px,
      rgba(209, 213, 219, 0.4) 31px,
      rgba(209, 213, 219, 0.4) 33px,
      transparent 33px,
      transparent 80px
    );
    background-size: 100% 80px;
  }
}

